term.clear()
rtos.Println(1,1,"Creating a new user")
rtos.Println(1,5,"New User: ")
local newuser = read()
rtos.Println(1,6,"New Pass: ")
local newpass = read()
rtos.Println(1,7,"Confirm Pass: ")
local confirmpass = read()
if newpass ~= confirmpass then
  rtos.Println(1,9,"The passwords do not match!")
else
  rtos.Println(1,9,"Are you sure? y/n: ")
  local confirm = read()
  if confirm == "y" then
    fs.makeDir("/rtos/users/"..newuser)
	local newpassfile = fs.open("/rtos/users/"..newuser.."/pass", "w")
	newpassfile.write(newpass)
	newpassfile.close()
    rtos.Println(1,10,"User Created!")
  elseif confirm == "n" then
    rtos.Println(1,10,"Cancelled")
  end
end